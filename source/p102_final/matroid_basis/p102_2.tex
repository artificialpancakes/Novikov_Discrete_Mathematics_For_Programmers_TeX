\documentclass{article}

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian, english]{babel}
\usepackage[left = 2cm]{geometry}
\usepackage{listings}

\renewcommand{\lstlistingname}{Алгоритм}

\begin{document}

\lstset{language = C,
    extendedchars = \true,
    keepspaces = true,
    breaklines=true,
    frame=lines}
\hrule
\begin{lstlisting}[title=\textbf {Алгоритм 2.2} Жадный алгоритм]
vector *matroid_basis(vector *E, int n, vector **Eps) {
  vector *B = vector_create();
  for (int i = 0; i < vector_size(E); i++) {
    vector_push_back(B, i);
    int flag = 0;
    for (int j = 0; j < n; j++) {
      vector *subset = Eps[j];
      if (vector_compare(subset, B) == 0) {
        flag = 1;
        break;
      }
    }
    if (flag == 0) {
      vector_pop(B);
    }
  }
  return B;
}
\end{lstlisting}
\end{document}
