\begin{lstlisting}[escapechar=\%]
%\noindent\textbf{Вход:} $b$ - индекс начала обрабатываемой части массива $P$, $e$ - индукс конца обрабатываемой части массива $P$.\\%
%\textbf{Выход:} $m$ - индекс медианы.%
int Med(double *P, int b, int e){
	double d;
	double Sb = 0; /* сумма элементов первой части */
	for(int i = b; i < e; i++){
		Sb += P[i]; /* вначале все, кроме последнего */
	}
	double Se = P[e]; /* сумма элементов второй части */
	int m = e; /* начинаем искать медиану с конца */
	do{
		d = modul(Sb - Se); /* разность сумм первой и второй частей */
		m--; /* сдвигаем границу */
		Sb = Sb - P[m]; /* перевычисляем суммы */
		Se = Se + P[m];
	}while(modul(Sb - Se) < d);
	return m;
}
\end{lstlisting}
