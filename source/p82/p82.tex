\documentclass[a5paper]{article}

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian, english]{babel}
\usepackage[left = 2cm, right = 2cm, top = 2cm, bottom = 2cm]{geometry}
\usepackage{listings}

\begin{document}
\lstset{
language = C,
extendedchars = \true,
keepspaces = true,
morekeywords = {true, false, bool, elem, NULL},
basicstyle = \fontsize{7}{9}\selectfont,
commentstyle = \fontsize{7}{9}\selectfont}

\begin{lstlisting}
bool check_equality_word(int s, int t, char a[s], char b[t])
{
  if(a[0] != b[0])
    return false; //первые буквы не совпадают
  int N_a = 0; //счетчик изменений буквы в a
  for(int i = 1; i < s; ++i)
  {
    if(a[i] != a[i - 1])
      N_a = N_a + 1; //буква изменилась
  }
  int N_b = 0; //счетчик изменений буквы в b
  for(int i = 1; i < t; ++i)
  {
    if(b[i] != b[i - 1])
      N_b = N_b + 1; //буква изменилась
  }
  return N_a == N_b; //слова равны, если значения счетчиков одинаковы
}
\end{lstlisting}
\end{document}
