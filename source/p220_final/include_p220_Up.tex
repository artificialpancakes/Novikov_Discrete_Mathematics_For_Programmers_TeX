\begin{lstlisting}[escapechar=\%]
%\noindent\textbf{Вход:} $n$ - длина обрабатываемой части массива $P$, $q$ - вставляемая сумма.\\%
%\textbf{Выход:} измененный массив $P$.%
int Up(double *P, int n, double q){
	int j = 0; /* место вставляемого элемента */
	for(int i = n - 1; i >= 1; i--)
		if(P[i - 1] < q)
			P[i] = P[i - 1]; /* сдвиг элемента массива */
		else{
			j = i; /* определение места вставляемого элемента */
			break; /* все сделано - цикл не нужно продолжать */
		}
	P[j] = q; /* запись вставляемого элемента */
	return j;
}
\end{lstlisting}
